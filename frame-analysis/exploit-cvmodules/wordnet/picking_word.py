import json

if __name__ == "__main__":

    data = json.load(open('synset_word_tree'))
    
    save_file = 'new_synset_word.txt'
    word = json.load(open(save_file))
   
    counter = 0     
    with open('synset_words.txt') as f:
       for l in f.readlines():
            wnid = l.strip().split(' ')[0]
            names = [x.strip() for x in ' '.join(l.strip().split(' ')[1:]).split(',')]
            counter += 1

            
            key = '_ '.join(names)
            if key in word:
                print word[key]
                continue
            
            print '0', names[0]
            for idx, e in enumerate(data[wnid][0]):
                print (idx+1), e[-1]

            
            ind_str = raw_input('pick one (0):') 
            if len(ind_str) == 0:
                ind = 0
            else:
                ind = int(ind_str)
            if ind == 0:
                value = key.replace('_', ',')
            else: 
                value = [x.strip() for x in data[wnid][0][ind-1][-1].split(',')]
            word[key] = value

            json.dump(word, open(save_file, 'w'))
            print counter, ':', key, ' -> ', value, '\n'
